<img src="https://counter.seku.su/cmoe?name=hiiragi_ansuke_learning&theme=r34"/>

# **1.概论**

***
## **1.1 操作系统概念**

***
#### **<font color=purple>1.操作系统的目标</font>**

><font color=red>**方便性$\quad$(提供良好的接口)**</font>
>
><font color=red>**高效性$\quad$(管理和配置资源,合理组织计算机)**</font>
>
><font color=red>**可扩充性$\quad$(操作系统本身的功能和管理,多个系统之间的资源共享)**</font>
>
><font color=red>**开放性$\quad$(应用程序在不同操作系统中的可移植性)**</font>

****

#### **<font color=purple>2.操作系统(OS)的作用\*</font>**

><font color=red>**1.实现系统在内存和硬盘的高效运行**</font>
>
><font color=red>**2.计算机系统资源的管理者**</font>
>
>>**管理的对象:CPU/存储器/IO设备/信息**
>
>>**管理的内容:查询记录状态/资源分配访问回收/用户权限**
>
><font color=red>**3.用户与计算机硬件系统的接口**</font>
>
>>**命令方式（外壳）/系统调用（内核）/窗口方式**
>
><font color=red>**4.虚拟机**</font>

***

#### **<font color=purple>3.操作系统的定义</font>**

><font color=red>**操作系统是计算机系统中的一个系统软件，是一些程序模块的集合**</font>
>
>**(进一步可以添加)（有效管理和控制计算机硬件和软件资源、合理地对各类作业进行调度以组织和控制系统工作流程，并方便用户使用【作用】）**

***

#### **4.操作系统的组成以及其层次结构**

>**计算机系统:分为两部分:硬件和软件(中央处理机[运算器和控制器]/存储器/IO设备)**
>
>**计算机软件:包括系统软件(操作系统/多种语言处理程序/连接装配程序/系统实用程序)和应用软件**
>
>**裸机:没有仍和软件支持的计算机**

***
## **1.2 操作系统的历史**

***
**四阶段:**
>**1946年到1950年:电子管时代,无操作系统**
>
>**1950年到1960年中期:晶体管时代,批处理系统**
>
>**1960年中期到1970年中期:集成电路,多道程序设计**
>
>**1970年中期到2000年:大规模和超大规模集成电路时代**
>

**发展方向:**

>**从性能的角度:提高资源的利用率和系统性能(多道批处理系统)**
>
>**从用户的角度:改善用户环境(分时系统或多用户系统)**
>
>**从硬件的角度:CPU的位宽度/外存的速度**
>
>**从体系的角度:从单到多,从实体到网络**
>
>**从应用的角度:应用场景的增加**

***

#### **1 人工操作阶段**

![image-20241204143412296](F:\desktop\期末复习用\大二上\操作系统\md\assets\image-20241204143412296.png)
>
>>**特点:资源利用率低,CPU利用率低,资源昂贵，集中计算**
>>
>>**方式：用户（程序员）+纸带卡片输入输出+机器语言**
>
>>**缺点:手工操作的低效率/用户独占全机所有资源**
>
>>**矛盾：人机矛盾/CPU和IO矛盾**
>>
>>**解决方案:通道技术/缓冲技术/脱机输入输出技术/专门的批处理操作**
>>
><img src="F:\desktop\期末复习用\大二上\操作系统\md\assets\image-20241204143432297.png" alt="image-20241204143432297" style="zoom:50%;" />

***

#### **2 单道程序批处理系统**

  <img src="F:\desktop\期末复习用\大二上\操作系统\md\assets\image-20241204143642065.png" alt="image-20241204143642065" style="zoom:50%;" />
>
>**<font color=purple>原理：把一批作业脱机输入，并且再监督程序控制下，批作业可以一个接一个依次连续处理**
>
>**特点:**
>
>>**自动性:无需人工干预**
>>
>>**顺序性:先进先出**
>>
>>**单道性:内存中只运行一个程序<font color=red>（只有完成或出错，才会调入后序程序）</font>**
>
>**缺点:CPU和IO交替运行,一个运行另一个就空闲**

***

#### **3 <font color=red>多道程序批处理系统</font>**

>**原理：多道程序批处理操作系统 = 批处理系统+多道程序设计技术**
>
>**<font color=purple>多道程序设计技术</font>**
>>
>**1.作业后备队列/作业调度算法/系统资源共享**
>>
>**2.CPU、内存、IO设备利用率提高，系统吞吐量提高**
>
>  <img src="F:\desktop\期末复习用\大二上\操作系统\md\assets\image-20241204144008390.png" alt="image-20241204144008390" style="zoom:50%;" />
>
> <img src="F:\desktop\期末复习用\大二上\操作系统\md\assets\image-20241204144052340.png" alt="image-20241204144052340" style="zoom:50%;" />
>
>**<font color=purple>多道批处理系统的特征:</font>**
>
>**<font color=red>多道性:可同时驻留多道程序</font>**
>>
>**<font color=red>无序性：作业完成的先后次序与进入内存的顺序无严格关系</font>**
>>
>**<font color=red>调读性:作业调度、进程调度</font>**
>>
>>**<font color=Navy>\#宏观上并行,微观上串行</font>**
>
>**优点：吞吐量大，处理效果好**
>
>**缺点:<font color=Purple>平均周转时间长/缺乏交互性(牺牲响应时间提高性能)</font>**
>
>**问题:处理机争抢/内存分配/设备管理/作业管理/用户和系统**

***

#### **4 分时系统**

**(多个用户分享使用一个计算机Windows)**

>**产生：多用户上机、共享主机、人机交互直接控制**
>
>>   **<font color =purple>需求：及时接收用户输入命令和数据、及时处理程序</font>**
>>
>>   **<font color=purple>方式：作业直接进入内存、时间片、单道+多道+前后台的分时系统</font>**
>
>**优点:**
>
>>**及时接收(多路卡,Cache)**
>>
>>**及时处理(通过时间片分配)**
>
>**<font color=purple>分时系统的特性:</font>**
>
>**<font color=red>同时性(多路性)：多个用户共享资源、多个用户轮流运行时间片</font>**
>>
>**<font color=red>独立性:各用户之间互补干扰</font>**
>>
>**<font color=red>及时性:响应时间短</font>**
>>
>**<font color=red>交互性：可以通过终端进行人机对话</font>**

***

#### **5 实时系统**

>**<font color=red>实时的定义:</font>**
>
>>   **系统能及时响应外部事件的请求，在规定时间内完成对该事件的处理，并控制所有实时任务协调一致地运行。**
>
>**<font color=red>实时任务的类型：</font>**
>
>>   **<font color=purple>按任务执行是否呈现周期性</font>**
>>
>>   **<font color=purple>根据截止时间的要求</font>**

**<font color=red>特性:多路性/独立性/“及时性”/交互性/“可靠性”</font>**
***

#### **6 通用操作系统**

>**1. 单用户单任务操作系统(单用户作为任务运行:CP/M和MS-DOS)**
>
>**2. 单用户多任务操作系统(单用户可运行多任务:Windows)**
>
>**3. 多用户多任务操作系统(多用户共享系统中资源并发执行:Linux)**

#### **7 操作系统的进一步发展**

>>   >   >   >   >>>>>>   >   >   >   >   >   >   >   ![image-20241204151406999](F:\desktop\期末复习用\大二上\操作系统\md\assets\image-20241204151406999.png)


***
## **<font color=red>1.3 *操作系统的基本特性:</font>**

**并发、共享、虚拟、异步**

***
#### **1 并发性**

>**并行性:两个或多个在同一时刻发生**
>
>**并发性:两个或多个事件在同一时间间隔内发生**
>>
>**程序:静态实体,不能和其它程序并发执行**
>>
>**进程:活动实体,能独立运行,资源分配的基本单位**

#### **2 共享性**

>**<font color=purple>是指系统中的资源可供内存中多个并发执行的进程（线程）共同使用。</font>**
>
>**互斥共享方式:临界独占资源(打印机)**
>>
>**同时访问方式:宏观同时,微观交替**

#### **3 虚拟**

>**<font color=purple>虚拟： 通过某种技术把一个物理实体变成若干个逻辑上的对应物。</font>**
>
>**1. 时分复用技术:分时使用方式**
>>
>**2. 空分复用技术:利用存储器的空闲空间存放其它程序**

#### **4 异步性**

>**进程执行顺序与执行时间的不确定性**

<img src="F:\desktop\期末复习用\大二上\操作系统\md\assets\image-20241204151921107.png" alt="image-20241204151921107" style="zoom: 50%;" />

***
## **1.4 *操作系统功能**

**处理器功能/存储器功能/设备管理功能/文件管理功能**

***
#### **1 处理机管理功能**

##### **<font color=purple>1.处理机调度</font>**

>**作业调度：作业后备队列/选择分配/调入内存并执行**
>
>**进程调度：就绪进程队列/进程分配/设置现场并启动运行**
>>
>**调度算法：IFIO/权高优先...**

##### **<font color=purple>2.进程控制</font>**

>**创建进程、撤销进程、进程状态切换**
>
>**机制：原语、进程、线程**

##### **<font color=purple>3.进程同步</font>**

>**进程线程并发协调、互斥同步方式、<font color=red>临界资源临界区</font>**
>
>**机制：开关锁原语、信号量机制、管程**

****

#### **2 存储器管理功能**

##### **<font color=purple>1.内存分配</font>**

>   **程序各得其所、提高存储器利用率、适应程序和数据需求**
>
>   **机制：分配数据结构、内存分配、内存回收**

##### **<font color=purple>2.内存保护</font>**

>   **确保程序间互不干扰、存取访问控制**
>
>   **机制：越界检查、硬件实现、保护方式<font color=Navy>（上下界、页号、段号、特权级的越界）</font>**

##### **<font color=purple>3.地址映射</font>**

>   **逻辑地址转换为物理地址**
>
>   >   **地址空间&内存空间：一个程序或系统可用的地址范围**
>   >
>   >   **逻辑地址：是由程序产生的地址，它是程序代码在编译时使用的地址。**
>   >
>   >   **相对地址：是指某一内存地址相对于某个参考点的偏移量。**
>   >
>   >   **有效地址：由CPU计算得到的最终地址，通常是逻辑地址加上一些偏移量**
>   >
>   >   **物理地址：是实际的内存硬件地址，指的是计算机中的物理内存（RAM）中的具体位置。**
>   >
>   >   **绝对地址：是指无论任何情况下都指向内存中某个固定位置的地址。**
>
>   **机制：硬件实现、重定位寄存器、页表段表、快表**

##### **<font color=purple>4.内存扩充</font>**

>   **从逻辑上扩充内存容量**
>
>   **程序运行局部性原理+离散分配方式**
>
>   **机制：虚拟存储技术、硬件（页段表...）、软件（请求调入功能、置换功能）**

***
#### **3 设备管理功能**

##### **<font color=purple>1.设备分配</font>**

>**设备以及相应设备控制器和通道的分配**
>
>**机制：分配用数据结构、分配方式、设备分配和回收算法、设备独立性、虚拟设备**

##### **<font color=purple>2.缓冲管理</font>**

>**管理各种类型的缓冲区、缓和CPU和IO之间速度矛盾、提高资源利用率和资源吞吐**
>
>**机制：单双多缓冲类型、字符缓冲和盘块缓冲、公用缓冲池机制**

##### **<font color=purple>3.设备处理</font>**

>**实现CPU和设备控制器间通信**
>
>**流程：请求提出、合法性检查、设备状态、传递工作方式、通道程序构成、发出指令、中断**

***
#### **4 文件管理功能**

##### **<font color=purple>1.文件存储空间的管理</font>**

**每个文件各得其所、提高外存空间利用率、提高外存访问速度**

**机制：存储管理用数据结构、存储空间分配与回收、连续离散分配方式**

##### **<font color=purple>2.目录管理</font>**

**实现文件的按名存储、提高查找速度、文件的重名共享和保护**

**机制：文件控制块、索引结点、目录结构、目录检索手段**

##### **<font color=purple>3.文件的读写管理和存取控制</font>**

**文件的读写管理：从外存中读取或写入、检索外存地址通过读写指针进行读写操作**

**文件的存取控制：防止未授权的存取、防止同名的顶替、防止存取方式的错误**

***

#### **5 用户接口**

>**联机用户接口:键盘操作命令,命令解释程序**
>
>**脱机用户接口:批处理用户接口(JCL)**
>
>**图形用户接口:特殊的联机用户接口**
>
>**程序接口:由一组系统调用组成**

***
## **1.5 计算机硬件简介**

***
##### **1 计算机硬件系统**

**计算机硬件系统:控制器/运算器/存储器/IO/系统总线**

##### **2 与操作系统相关的主要寄存器**

**数据寄存器/地址寄存器/条形码寄存器/程序计数器/指令计数器/中断现场保护寄存器/堆栈**